@import url('https://fonts.googleapis.com/css2?family=Chivo:wght@400;600;700&family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

body {
    margin: 0;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

code {
    font-family: 'JetBrains Mono', source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;
}

@layer base {
    :root {
        --background: 156 16% 98%;
        --foreground: 180 20% 10%;
        --card: 0 0% 100%;
        --card-foreground: 180 20% 10%;
        --popover: 0 0% 100%;
        --popover-foreground: 180 20% 10%;
        --primary: 180 27% 14%;
        --primary-foreground: 0 0% 100%;
        --secondary: 120 11% 94%;
        --secondary-foreground: 180 27% 14%;
        --muted: 120 11% 94%;
        --muted-foreground: 180 10% 45%;
        --accent: 48 96% 53%;
        --accent-foreground: 180 27% 14%;
        --destructive: 0 84% 60%;
        --destructive-foreground: 0 0% 100%;
        --border: 214 32% 91%;
        --input: 214 32% 91%;
        --ring: 180 27% 14%;
        --radius: 0.25rem;
    }
}

@layer base {
    * {
        @apply border-border;
    }
    body {
        @apply bg-background text-foreground;
    }
    h1, h2, h3, h4, h5, h6 {
        @apply font-heading;
    }
}

@layer base {
    [data-debug-wrapper="true"] {
        display: contents !important;
    }

    [data-debug-wrapper="true"] > * {
        margin-left: inherit;
        margin-right: inherit;
        margin-top: inherit;
        margin-bottom: inherit;
        padding-left: inherit;
        padding-right: inherit;
        padding-top: inherit;
        padding-bottom: inherit;
        column-gap: inherit;
        row-gap: inherit;
        gap: inherit;
        border-left-width: inherit;
        border-right-width: inherit;
        border-top-width: inherit;
        border-bottom-width: inherit;
        border-left-style: inherit;
        border-right-style: inherit;
        border-top-style: inherit;
        border-bottom-style: inherit;
        border-left-color: inherit;
        border-right-color: inherit;
        border-top-color: inherit;
        border-bottom-color: inherit;
    }
}

.score-gauge {
    position: relative;
}

.alert-card {
    @apply transition-all duration-200 hover:border-primary/30;
}

.map-canvas {
    @apply relative overflow-hidden;
}

/* ===== RESPONSIVE MOBILE STYLES ===== */

/* Mobile viewport fix */
html {
    -webkit-text-size-adjust: 100%;
    scroll-behavior: smooth;
}

/* Mobile-first container adjustments */
@media (max-width: 640px) {
    .container {
        padding-left: 1rem !important;
        padding-right: 1rem !important;
    }
    
    /* Headers */
    h1 {
        font-size: 1.5rem !important;
        line-height: 1.3;
    }
    
    h2 {
        font-size: 1.25rem !important;
    }
    
    h3 {
        font-size: 1.1rem !important;
    }
    
    /* Buttons responsiveness */
    button, .btn {
        min-height: 44px;
        min-width: 44px;
    }
    
    /* Card adjustments */
    .card-content, [class*="CardContent"] {
        padding: 1rem !important;
    }
    
    /* Text truncation for long content */
    .truncate-mobile {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
    
    /* Dialog/Modal mobile */
    [role="dialog"] {
        max-width: 95vw !important;
        max-height: 90vh !important;
        margin: 0.5rem !important;
    }
    
    /* Table responsiveness */
    table {
        display: block;
        overflow-x: auto;
        white-space: nowrap;
    }
    
    /* Select/Dropdown */
    [role="listbox"] {
        max-height: 50vh !important;
    }
}

/* Tablet adjustments */
@media (max-width: 768px) {
    /* Stats cards - 2 columns on tablet */
    .grid.md\\:grid-cols-5,
    .grid.md\\:grid-cols-6 {
        grid-template-columns: repeat(2, 1fr) !important;
    }
    
    /* Module cards - 2 columns */
    .grid.lg\\:grid-cols-4 {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}

/* Small mobile adjustments */
@media (max-width: 480px) {
    /* Stats cards - 1 column on small mobile */
    .grid.md\\:grid-cols-5,
    .grid.md\\:grid-cols-6 {
        grid-template-columns: 1fr !important;
    }
    
    /* Module cards - 1 column */
    .grid.lg\\:grid-cols-4,
    .grid.md\\:grid-cols-2 {
        grid-template-columns: 1fr !important;
    }
    
    /* Quick actions - 1 column */
    .grid.md\\:grid-cols-3 {
        grid-template-columns: 1fr !important;
    }
    
    /* Flex items stack vertically */
    .flex-col-mobile {
        flex-direction: column !important;
    }
}

/* Touch-friendly improvements */
@media (hover: none) and (pointer: coarse) {
    /* Larger touch targets */
    button, 
    [role="button"],
    a,
    input[type="checkbox"],
    input[type="radio"] {
        min-height: 44px;
        min-width: 44px;
    }
    
    /* Better spacing for touch */
    .space-y-2 > * + * {
        margin-top: 0.75rem;
    }
    
    .space-y-4 > * + * {
        margin-top: 1.25rem;
    }
}

/* Safe area insets for notched devices */
@supports (padding: max(0px)) {
    .safe-area-inset {
        padding-left: max(1rem, env(safe-area-inset-left));
        padding-right: max(1rem, env(safe-area-inset-right));
        padding-bottom: max(1rem, env(safe-area-inset-bottom));
    }
}

/* Prevent zoom on input focus (iOS) */
@media screen and (max-width: 768px) {
    input[type="text"],
    input[type="email"],
    input[type="number"],
    input[type="tel"],
    input[type="date"],
    input[type="password"],
    select,
    textarea {
        font-size: 16px !important;
    }
}